<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>弹出框</title>
    <link href="${ctx}/plugins/layui/css/layui.css" rel="stylesheet" />
    <link href="${ctx}/plugins/layui/extend//dtree/dtree.css" rel="stylesheet" />
    <link href="${ctx}/plugins/layui/extend/dtree/font/dtreefont.css" rel="stylesheet" />
    <style>
        .layui-form-item .layui-inline{min-width:260px;}
        /* zdy主题风格*/
        .dtree-zzfc-item-this{background-color: #c2c2c2!important;} /* 当前选中行样式*/
        .dtree-zzfc-item:hover{background-color: #f2f2f2!important;} /* 行悬停样式*/
        .dtree-zzfc-item cite{font-size:14px!important;} /* 行文字样式*/
        .dtree-zzfc-item:hover cite{color:#0a8cbf!important;} /* 行悬停文字样式*/
        .dtree-zzfc-dtreefont{font-size: 18px!important;} /* 一级图标、二级图标、复选框样式*/
        .dtree-zzfc-ficon{color:#2F4056!important;}  /*一级图标特定样式*/
        .dtree-zzfc-icon{color:#0a8cbf!important;}  /*二级图标特定样式*/
        .dtree-zzfc-checkbox:hover{color:#5FB878!important;}  /*复选框悬停样式*/
        .dtree-zzfc-choose{color:#5FB878!important;} /* 复选框选中样式*/
        /**/
        .red{color:red;}
        .layui-form-item {
            margin-bottom:5px;
            clear: both;
            *zoom: 1;
        }
        .form-left,.form-right{
            display: inline-block;
            height:345px;
            overflow: auto;
            width: 46%;
            margin-left: 2%;
            box-sizing: border-box;
        }
        .form-right{
            border:1px solid #e6e6e6;
            padding: 8px;
        }
        /*滚动条样式*/
        .form-right::-webkit-scrollbar {
            /*滚动条整体样式*/
            width: 4px;     
            /*高宽分别对应横竖滚动条的尺寸*/
            height: 4px;
        }
        .form-right::-webkit-scrollbar-thumb {
            /*滚动条里面小方块*/
            border-radius: 5px;
            -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2);
            background: rgba(0,0,0,0.2);
        }
        .form-right::-webkit-scrollbar-track {/*滚动条里面轨道*/
            -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2);
            border-radius: 0;
            background: rgba(0,0,0,0.1);
        }
        .layui-btn-container{
            text-align: center;
            margin-top: 10px;        }
    </style>
</head>

<body>
    <form class="layui-form" style="margin-top:10px;">
        <div class="form-left">
            <div class="layui-form-item">
                <label class="layui-form-label"><span class="red">*</span>角色名称</label>
                <div class="layui-inline">
                    <input class="layui-input" type="text" lay-verify="required">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label"><span class="red">*</span>角色编码</label>
                <div class="layui-inline">
                    <input class="layui-input" type="text" lay-verify="required">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label"><span class="red">*</span>排序号</label>
                <div class="layui-inline">
                    <input class="layui-input" type="number" lay-verify="required">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">角色分类</label>
                <div class="layui-inline">
                    <input class="layui-input" type="text" lay-verify="required">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label"><span class="red">*</span>系统内置</label>
                <div class="layui-input-inline">
                    <input type="radio" name="sex" value="是" title="是">
                    <input type="radio" name="sex" value="否" title="否" checked>
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">备注信息:</label>
                <div class="layui-inline">
                    <textarea name="desc" placeholder="请输入内容" class="layui-textarea"></textarea>
                </div>
            </div>
        </div>
        <div class="form-right">
            <p>授权功能菜单:</p>
            <ul id="e" class="dtree" data-id="0"></ul>
        </div>
        <div class="layui-btn-container">
            <a class="layui-btn layui-btn-sm layui-btn-primary" lay-submit lay-filter="save">保存</a>
            <a id="cancel" class="layui-btn layui-btn-sm layui-bg-gray">取消</a>
        </div>
    </form>
</body>

</html>
<script src="${ctx}/plugins/layui/layui.all.js"></script>
<script>
    var data = [{
        "id": "001",
        "title": "湖南省",
        "isLast": false,
        "level": "1",
        "parentId": "0",
        "checkArr": [{
            "type": "0",
            "isChecked": "0"
        }],
        "basicData": {
            "data1": "自定义数据111",
            "data2": "自定义数据222",
            "data3": "自定义'我带了单引号'333"
        },
        "children": [{
            "id": "001001",
            "title": "长沙市",
            "isLast": true,
            "parentId": "001",
            "checkArr": [{
                "type": "0",
                "isChecked": "0"
            }],
            "level": "2"
        }, {
            "id": "001002",
            "title": "株洲市",
            "isLast": true,
            "parentId": "001",
            "checkArr": [{
                "type": "0",
                "isChecked": "0"
            }],
            "level": "2"
        }, {
            "id": "001003",
            "title": "湘潭市",
            "isLast": true,
            "parentId": "001",
            "checkArr": [{
                "type": "0",
                "isChecked": "0"
            }],
            "level": "2"
        }, {
            "id": "001004",
            "title": "衡阳市",
            "isLast": true,
            "parentId": "001",
            "checkArr": [{
                "type": "0",
                "isChecked": "0"
            }],
            "level": "2"
        }, {
            "id": "001005",
            "title": "郴州市",
            "isLast": true,
            "parentId": "001",
            "checkArr": [{
                "type": "0",
                "isChecked": "0"
            }],
            "level": "2"
        }]
    }, {
        "id": "002",
        "title": "湖北省",
        "isLast": false,
        "parentId": "0",
        "level": "1",
        "checkArr": [{
            "type": "0",
            "isChecked": "0"
        }],
        "children": [{
            "id": "002001",
            "title": "武汉市",
            "isLast": true,
            "checkArr": [{
                "type": "0",
                "isChecked": "0"
            }],
            "level": "2"
        }, {
            "id": "002002",
            "title": "黄冈市",
            "checkArr": [{
                "type": "0",
                "isChecked": "0"
            }],
            "isLast": true,
            "parentId": "002",
            "level": "2"
        }, {
            "id": "002003",
            "title": "潜江市",
            "isLast": true,
            "parentId": "002",
            "checkArr": [{
                "type": "0",
                "isChecked": "0"
            }],
            "level": "2"
        }, {
            "id": "002004",
            "title": "荆州市",
            "isLast": true,
            "parentId": "002",
            "checkArr": [{
                "type": "0",
                "isChecked": "0"
            }],
            "level": "2"
        }, {
            "id": "002005",
            "title": "襄阳市",
            "isLast": true,
            "parentId": "002",
            "checkArr": [{
                "type": "0",
                "isChecked": "0"
            }],
            "level": "2"
        }]
    }, {
        "id": "003",
        "title": "广东省",
        "isLast": false,
        "parentId": "0",
        "level": "1",
        "checkArr": [{
            "type": "0",
            "isChecked": "0"
        }],
        "children": [{
            "id": "003001",
            "title": "广州市",
            "isLast": false,
            "parentId": "003",
            "level": "2",
            "checkArr": [{
                "type": "0",
                "isChecked": "0"
            }],
            "children": [{
                "id": "003001001",
                "title": "天河区",
                "isLast": true,
                "parentId": "003001",
                "checkArr": [{
                    "type": "0",
                    "isChecked": "0"
                }],
                "level": "3"
            }, {
                "id": "003001002",
                "title": "花都区",
                "isLast": true,
                "parentId": "003001",
                "checkArr": [{
                    "type": "0",
                    "isChecked": "0"
                }],
                "level": "3"
            }]
        }, {
            "id": "003002",
            "title": "深圳市",
            "isLast": true,
            "parentId": "003",
            "checkArr": [{
                "type": "0",
                "isChecked": "0"
            }],
            "level": "2"
        }, {
            "id": "003003",
            "title": "中山市",
            "isLast": true,
            "parentId": "003",
            "checkArr": [{
                "type": "0",
                "isChecked": "0"
            }],
            "level": "2"
        }, {
            "id": "003004",
            "title": "东莞市",
            "isLast": true,
            "parentId": "003",
            "checkArr": [{
                "type": "0",
                "isChecked": "0"
            }],
            "level": "2"
        }, {
            "id": "003005",
            "title": "珠海市",
            "isLast": true,
            "parentId": "003",
            "checkArr": [{
                "type": "0",
                "isChecked": "0"
            }],
            "level": "2"
        }, {
            "id": "003006",
            "title": "韶关市",
            "isLast": true,
            "parentId": "003",
            "checkArr": [{
                "type": "0",
                "isChecked": "0"
            }],
            "level": "2"
        }]
    }, {
        "id": "004",
        "title": "浙江省",
        "isLast": false,
        "level": "1",
        "parentId": "0",
        "checkArr": [{
            "type": "0",
            "isChecked": "0"
        }],
        "children": [{
            "id": "004001",
            "title": "杭州市",
            "isLast": true,
            "parentId": "004",
            "checkArr": [{
                "type": "0",
                "isChecked": "0"
            }],
            "level": "2"
        }, {
            "id": "004002",
            "title": "温州市",
            "isLast": true,
            "parentId": "004",
            "checkArr": [{
                "type": "0",
                "isChecked": "0"
            }],
            "level": "2"
        }, {
            "id": "004003",
            "title": "绍兴市",
            "isLast": true,
            "parentId": "004",
            "checkArr": [{
                "type": "0",
                "isChecked": "0"
            }],
            "level": "2"
        }, {
            "id": "004004",
            "title": "金华市",
            "isLast": true,
            "parentId": "004",
            "checkArr": [{
                "type": "0",
                "isChecked": "0"
            }],
            "level": "2"
        }, {
            "id": "004005",
            "title": "义乌市",
            "isLast": true,
            "parentId": "004",
            "checkArr": [{
                "type": "0",
                "isChecked": "0"
            }],
            "level": "2"
        }]
    }, {
        "id": "005",
        "title": "福建省",
        "isLast": false,
        "parentId": "0",
        "level": "1",
        "checkArr": [{
            "type": "0",
            "isChecked": "0"
        }],
        "children": [{
            "id": "005001",
            "title": "厦门市",
            "isLast": true,
            "parentId": "005",
            "checkArr": [{
                "type": "0",
                "isChecked": "0"
            }],
            "level": "2"
        }]
    }]
    layui.config({
        base: '${ctx}/plugins/layui/extend/dtree/'
    }).extend({
        dtree: 'dtree'
    });
    layui.use(['layer', 'form', 'table', 'dtree', 'element'], function () {
        var $ = layui.jquery,
            layer = layui.layer,
            table = layui.table,
            form = layui.form,
            dtree = layui.dtree;
        dtree.render({
            elem: '#e', //绑定元素
            checkbar: true,
            checkbarType: "all",
            //url: "../json/case/demoTree1.json"  //异步接口
            data: data
        });
    $("#cancel").click(function(){
        var index = parent.layer.getFrameIndex(window.name); //获取窗口索引
        parent.layer.close(index);
    })
    })
</script>