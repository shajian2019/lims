<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zzhb.zzoa.mapper.RoleMapper">
	
	<delete id="delRoleMenu" parameterType="java.util.Map">
		DELETE FROM sys_t_role_menu 
		<where>
			<if test="m_ids !=null and m_ids.size() != 0">
				and m_id in 
				<foreach collection="m_ids" item="m_id" open="(" separator="," close=")">
           			#{m_id}
        		</foreach>
			</if>
		</where>
	</delete>
	
	<select id="getRoles" resultType="com.zzhb.zzoa.domain.Role" parameterType="java.util.Map">
		SELECT * FROM sys_t_role
		<where>
			<if test="rolename !=null and rolename !=''">
				<bind name="_rolename" value="'%'+rolename+'%'"/>
				and rolename like #{_rolename}
			</if>
			<if test="rolecode !=null and rolecode !=''">
				<bind name="_rolecode" value="'%'+rolecode+'%'"/>
				and rolecode like #{_rolecode}
			</if>
			<if test="status !=null and status !=''">
				and status = #{status}
			</if>
		</where>
		ORDER BY createtime desc
	</select>
	
</mapper>